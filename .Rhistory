"Origine de l'arbre : <b>", origine, "</b><br>"),
descriptions),  # Afficher la description
# Carte de base avec Leaflet
map <- leaflet(nodes) %>%
addTiles() %>%
addCircleMarkers(
~lon, ~lat,  # coordonnées des noeuds
popup = ~paste("<b>", label, "</b><br>",
"<i>", precisions, "</i><br>", # Afficher le label en gras
"<img src='", image, "' width='100' height='100'><br>",  # Afficher l'image
"Origine de l'arbre : <b>", origine, "</b><br>",
descriptions),  # Afficher la description
radius = 5,
color = "green",
stroke = FALSE,
fillOpacity = 0.7
)
# Afficher la carte
map
# Ajouter les arêtes (lignes entre les noeuds)
for (i in 1:nrow(edges)) {
source_node <- nodes[nodes$id == edges$source[i], ]
target_node <- nodes[nodes$id == edges$target[i], ]
map <- map %>%
addPolylines(
lng = c(source_node$lon, target_node$lon),
lat = c(source_node$lat, target_node$lat),
color = "blue",
weight = 2
)
}
map
# Carte de base avec Leaflet
map <- leaflet(nodes) %>%
addTiles() %>%
addCircleMarkers(
~lon, ~lat,  # coordonnées des noeuds
popup = ~paste("<b>", label, "</b><br>",
"<i>", precisions, "</i><br>", # Afficher le label en gras
"<img src='", image, "' width='100' height='100'><br>",  # Afficher l'image
"Origine de l'arbre : <b>", origine, "</b><br>",
descriptions),  # Afficher la description
radius = ~weight,
color = "green",
stroke = FALSE,
fillOpacity = 0.7
)
# Ajouter les arêtes (lignes entre les noeuds)
for (i in 1:nrow(edges)) {
source_node <- nodes[nodes$id == edges$source[i], ]
target_node <- nodes[nodes$id == edges$target[i], ]
map <- map %>%
addPolylines(
lng = c(source_node$lon, target_node$lon),
lat = c(source_node$lat, target_node$lat),
color = "blue",
weight = 2
)
}
map
# Carte de base avec Leaflet
map <- leaflet(nodes) %>%
addTiles() %>%
addCircleMarkers(
~lon, ~lat,  # coordonnées des noeuds
popup = ~paste("<b>", label, "</b><br>",
"<i>", precisions, "</i><br>", # Afficher le label en gras
"<img src='", image, "' width='100' height='100'><br>",  # Afficher l'image
"Origine de l'arbre : <b>", origine, "</b><br>",
descriptions),  # Afficher la description
radius = ~weight / 10,
color = "green",
stroke = FALSE,
fillOpacity = 0.7
)
# Ajouter les arêtes (lignes entre les noeuds)
for (i in 1:nrow(edges)) {
source_node <- nodes[nodes$id == edges$source[i], ]
target_node <- nodes[nodes$id == edges$target[i], ]
map <- map %>%
addPolylines(
lng = c(source_node$lon, target_node$lon),
lat = c(source_node$lat, target_node$lat),
color = "blue",
weight = 2
)
}
map
# Carte de base avec Leaflet
map <- leaflet(nodes) %>%
addTiles() %>%
addCircleMarkers(
~lon, ~lat,  # coordonnées des noeuds
popup = ~paste("<b>", label, "</b><br>",
"<i>", precisions, "</i><br>", # Afficher le label en gras
"<img src='", image, "' width='100' height='100'><br>",  # Afficher l'image
"Origine de l'arbre : <b>", origine, "</b><br>",
descriptions),  # Afficher la description
radius = ~weight / 2,
color = "green",
stroke = FALSE,
fillOpacity = 0.7
)
# Ajouter les arêtes (lignes entre les noeuds)
for (i in 1:nrow(edges)) {
source_node <- nodes[nodes$id == edges$source[i], ]
target_node <- nodes[nodes$id == edges$target[i], ]
map <- map %>%
addPolylines(
lng = c(source_node$lon, target_node$lon),
lat = c(source_node$lat, target_node$lat),
color = "blue",
weight = 2
)
}
map
# Charger les packages
library(sf)
library(leaflet)
library(dplyr)
library(readr)
# Charger le fichier CSV
arbres_fulldata <- read_csv("data/tableau_complet.csv")
# Convertir en objet spatial avec latitude et longitude
arbres_sf <- st_as_sf(arbres_fulldata, coords = c("longitude", "latitude"), crs = 4326)
# Créer une carte interactive avec leaflet
carte_arbres <- leaflet(arbres_sf) %>%
addCircleMarkers(
popup = ~paste("Nom commun : ", nom_usuel, "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"Description : ", infos, "<br>",
"Hauteur : ", hauteur, " m", "<br>",
"Date de plantation : ", date_plantation, "<br>",
pourquoi classif,
) %>%
# Créer une carte interactive avec leaflet
carte_arbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste("Nom commun : ", nom_usuel, "<br>",
"Nom scientifique :", nom_botanique, "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image :" auteur_photo "</i><br>",
# Créer une carte interactive avec leaflet
carte_arbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste("Nom commun : ", nom_usuel, "<br>",
"Nom scientifique :", nom_botanique, "<br>",
"<img src='", lien_photo, "' width='200'>",
"<i>Crédits image :" auteur_photo "</i><br>",
# Convertir en objet spatial avec latitude et longitude
arbres_sf <- st_as_sf(arbres_fulldata, coords = c("longitude", "latitude"), crs = 4326)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"Nom commun : ", nom_usuel, "<br>",
"Nom scientifique : ", nom_botanique, "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"Description : ", infos, "<br>",
"Circonférence : ", circonference, " cm", "<br>",
"Hauteur : ", hauteur, " m", "<br>",
"Adresse : ", Adresse, ", ", complement, "<br>",
"Date de plantation : ", date_plantation, "<br>",
"<br>",
"Pourquoi classification : ", pourquoi_classif
),
color = "green", radius = 6
) %>%
setView(lng = 2.35, lat = 48.85, zoom = 10)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"Nom commun : ", Nom_usuel, "<br>",
"Nom scientifique : ", Nom_botanique, "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"Description : ", infos, "<br>",
"Circonférence : ", circonference, " cm", "<br>",
"Hauteur : ", hauteur, " m", "<br>",
"Adresse : ", Adresse, ", ", complement, "<br>",
"Date de plantation : ", date_plantation, "<br>",
"<br>",
"Pourquoi classification : ", pourquoi_classif
),
color = "green", radius = 6
) %>%
setView(lng = 2.35, lat = 48.85, zoom = 10)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"Nom commun : ", Nom_usuel, "<br>",
"Nom scientifique : ", Nom_botanique, "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"Description : ", infos, "<br>",
"Circonférence : ", circonference, " cm", "<br>",
"Hauteur : ", hauteur, " m", "<br>",
"Adresse : ", Adresse, ", ", complement, "<br>",
"Date de plantation : ", date_de_plantation, "<br>",
"<br>",
"Pourquoi classification : ", pourquoi_classif
),
color = "green", radius = 6
) %>%
setView(lng = 2.35, lat = 48.85, zoom = 10)
# Afficher la carte
carte_fullarbres
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"Nom commun : ", Nom_usuel, "<br>",
"Nom scientifique : ", Nom_botanique, "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"Description : ", infos, "<br>",
"Circonférence : ", circonference, " cm", "<br>",
"Hauteur : ", hauteur, " m", "<br>",
"Adresse : ", Adresse, ", ", complement, "<br>",
"Date de plantation : ", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
color = "green", radius = 6
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"<b>Nom commun : </b>", nom_usuel, " (<i>", nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"Description : ", infos, "<br>",
"Circonférence : ", circonference, " cm", "<br>",
"Hauteur : ", hauteur, " m", "<br>",
"Adresse : ", Adresse, ", ", complement, "<br>",
"Date de plantation : ", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
color = "green", radius = 6
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"Description : ", infos, "<br>",
"Circonférence : ", circonference, " cm", "<br>",
"Hauteur : ", hauteur, " m", "<br>",
"Adresse : ", Adresse, ", ", complement, "<br>",
"Date de plantation : ", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
color = "green", radius = 6
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
color = "green", radius = 6
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
# Créer une icône personnalisée
icon_custom <- makeIcon(
iconUrl = "https://cdn-icons-png.flaticon.com/512/128/128834.png",  # Remplacer par l'URL de ton icône
iconWidth = 30, iconHeight = 30,  # Taille de l'icône
iconAnchorX = 15, iconAnchorY = 30  # Positionnement de l'icône
)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addCircleMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
color = "green", radius = 6
icon = icon_custom
# Créer une icône personnalisée
icon_custom <- makeIcon(
iconUrl = "https://cdn-icons-png.flaticon.com/512/128/128834.png",  # Remplacer par l'URL de ton icône
iconWidth = 30, iconHeight = 30,  # Taille de l'icône
iconAnchorX = 15, iconAnchorY = 30  # Positionnement de l'icône
)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
icon = icon_custom  # Utilisation d'une icône personnalisée
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
# Créer une icône personnalisée
icon_custom <- makeIcon(
iconUrl = "https://cdn-icons-png.flaticon.com/512/128/128834.png",  # Remplacer par l'URL de ton icône
iconWidth = 20, iconHeight = 20,  # Taille de l'icône
iconAnchorX = 15, iconAnchorY = 30  # Positionnement de l'icône
)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
icon = icon_custom  # Utilisation d'une icône personnalisée
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
# Créer une icône personnalisée
icon_custom <- makeIcon(
iconUrl = "https://tse2.mm.bing.net/th?id=OIP.fYjPrQK_lbn_r_tTX-eHrgHaHa&pid=Api",  # Remplacer par l'URL de ton icône
iconWidth = 20, iconHeight = 20,  # Taille de l'icône
iconAnchorX = 15, iconAnchorY = 30  # Positionnement de l'icône
)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
icon = icon_custom  # Utilisation d'une icône personnalisée
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
# Créer une icône personnalisée
icon_custom <- makeIcon(
iconUrl = "https://imgur.com/a/lpagOBa",  # Remplacer par l'URL de ton icône
iconWidth = 20, iconHeight = 20,  # Taille de l'icône
iconAnchorX = 15, iconAnchorY = 30  # Positionnement de l'icône
)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
icon = icon_custom  # Utilisation d'une icône personnalisée
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
# Créer une icône personnalisée
icon_custom <- makeIcon(
iconUrl = "https://cdn0.iconfinder.com/data/icons/trees-19/50/11-512.png",  # Remplacer par l'URL de ton icône
iconWidth = 20, iconHeight = 20,  # Taille de l'icône
iconAnchorX = 15, iconAnchorY = 30  # Positionnement de l'icône
)
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>Nom commun : </b>", Nom_usuel, " (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
icon = icon_custom  # Utilisation d'une icône personnalisée
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>"Nom_usuel"</b> (<i>", Nom_botanique, "</i>)", "<br>",
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>", Nom_usuel, "</b> (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
icon = icon_custom  # Utilisation d'une icône personnalisée
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
# Charger les packages
library(leaflet)
library(readr)
library(dplyr)
nodes <- read_csv ("data/nodes_arbres.csv")
# Charger les packages
library(sf)
library(leaflet)
library(dplyr)
library(readr)
# Charger le fichier CSV
arbres_fulldata <- read_csv("data/tableau_complet.csv")
# Charger le fichier CSV
arbres_fulldata <- read_csv("data/tableau_complet.csv")
# Convertir en objet spatial avec latitude et longitude
arbres_sf <- st_as_sf(arbres_fulldata, coords = c("longitude", "latitude"), crs = 4326)
# Créer une icône personnalisée
icon_custom <- makeIcon(
iconUrl = "https://cdn0.iconfinder.com/data/icons/trees-19/50/11-512.png",  # Remplacer par l'URL de ton icône
iconWidth = 20, iconHeight = 20,  # Taille de l'icône
iconAnchorX = 15, iconAnchorY = 30  # Positionnement de l'icône
)
# Mettre la carte dans leaflet
carte_fullarbres <- leaflet(arbres_sf) %>%
addTiles() %>%
addMarkers(
popup = ~paste(
"<b>", Nom_usuel, "</b> (<i>", Nom_botanique, "</i>)", "<br>",
"<img src='", lien_photo, "' width='200'><br>",
"<i>Crédits image : </i>", auteur_photo, "<br>",
"<u>Description : </u>", infos, "<br>",
"<u>Circonférence : </u>", circonference, " cm", "<br>",
"<u>Hauteur : </u>", hauteur, " m", "<br>",
"<u>Adresse : </u>", Adresse, ", ", complement, "<br>",
"<u>Date de plantation : </u>", date_de_plantation, "<br>",
"<br>",
pourquoi_classif
),
icon = icon_custom  # Utilisation d'une icône personnalisée
) %>%
setView(lng = 2.3522, lat = 48.8566, zoom = 12)
# Afficher la carte
carte_fullarbres
